# COMP5111 (Spring 2022) Assignment 1 - TA Implementation

## Contents

This TA implementation includes:
- Scripts to use Randoop to generate tests
- Statement/Branch/Line coverage measurement with Soot.

## Prerequisites

- Java: `11`
- Maven: `^3.8.3`
- Unix-based OS: `MacOS` or `Linux`

Note: The source code should work on Windows, but the scripts are not. You may need to write your own scripts on 
Windows.

## Usage

Clone this repo:
```bash
git clone git@github.com:CastleLab/COMP5111-Spring2022-Student-Assignments.git && cd COMP5111-Spring2022-Student-Assignments
```

Checkout to `assignment1-TA_implementation` branch:
```bash
git checkout assignment1-TA_implementation
```

Generate tests using Randoop:
```bash
./scripts/gen-tests-randoop.sh
```

Run tests and measure coverage:
```bash
./scripts/asg1-run.sh
```
Note that `asg1-run.sh` script execute the main class `comp5111.assignment.Assignment1`, which takes the following 
positional arguments: 
- CoverageType: `0` for Statement; `1` for Branch; `2` for Line coverage
- Junit test suite class: e.g., `comp5111.assignment.cut.Regression_0_Test`
- Classes in CUT to instrument and measure coverage ...

## Clarification

The coverage result generated by this implementation may have some difference with the report generated by Eclemma 
in Eclipse. 

It is expected since they use different intermediate representations and coverage measurement strategies [(Eclemma 
Issue)](https://github.com/jacoco/eclemma/issues/65).